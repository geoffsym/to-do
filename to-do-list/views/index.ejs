<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>To-Do List</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>

    <header>
      <a href="/personal">Personal</a>
      <a href="/work">Work</a>
    </header>

    <h1><%=listType.charAt(0).toUpperCase() + listType.slice(1)%> To-Do List</h1>
    <div id="to-do-list">
      <% for( let i = 0; i < list.length; i++ ) { %>
        <form class="to-do-item" action=<%= `/${listType}` %> method="POST">
          <input type="hidden" name="index" value=<%= i %> />
          <input type="checkbox" name="done"
            <% if (list[i].done) { %>checked<% } %>
            onchange="this.form.submit()">
          <label for=<%= `${i}` %>>
            <%= list[i].text %>
          </label>
        </form>
      <% } %>
    </div>
    <form action=<%= `/${listType}/add` %> method="POST">
      <input type="text" name="itemText" placeholder="Add new item...">
      <input type="submit" value="ADD">
    </form>

    <footer>
      <p class="footer-text">Â© Geoff Symonds <%= new Date().getFullYear() %></p>
    </footer>

  </body>
</html>